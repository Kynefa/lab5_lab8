<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
     function createArray(size) {
        const array = [];
        for (let i = 0; i < size; i++) {
          array.push(Math.floor(Math.random() * 100)); 
        }
        return array;
      }
      
      function findMaxEvenElement(array) {
        return array.filter((num) => num % 2 === 0).reduce((max, num) => Math.max(max, num), -Infinity);
      }
      
      function findMinEvenIndexElement(array) {
        return array
          .filter((_, index) => index % 2 === 0)
          .reduce((min, num) => Math.min(min, num), Infinity);
      }
      
      function swapElements(array, maxEven, minEvenIndex) {
        const newArray = [...array];
        const maxIndex = array.indexOf(maxEven);
        const minIndex = array.indexOf(minEvenIndex);
      
        [newArray[maxIndex], newArray[minIndex]] = [newArray[minIndex], newArray[maxIndex]];
      
        return newArray;
      }
      
      function insertionSort(array) {
        const sortedArray = [...array];
        for (let i = 1; i < sortedArray.length; i++) {
          let current = sortedArray[i];
          let j = i - 1;
      
          while (j >= 0 && sortedArray[j] > current) {
            sortedArray[j + 1] = sortedArray[j];
            j--;
          }
      
          sortedArray[j + 1] = current;
        }
        return sortedArray;
      }
      
      function doWork(size) {
        const array = createArray(size);
      
        console.log("Вхідний масив:", array);
      
        const maxEven = findMaxEvenElement(array);
        const minEvenIndex = findMinEvenIndexElement(array);
      
        console.log("Максимальний серед парних елементів:", maxEven);
        console.log("Мінімальний серед елементів з парними індексами:", minEvenIndex);
      
        const swappedArray = swapElements(array, maxEven, minEvenIndex);
        console.log("Масив після заміни елементів:", swappedArray);
      
        const sortedArray = insertionSort(swappedArray);
        console.log("Відсортований масив:", sortedArray);
      }
      
      function main() {
        const size = parseInt(prompt("Введіть кількість елементів масиву:"), 10);
        doWork(size);
      }
      
      main();
      </script>
</body>
</html>